<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1.0,width=device-width,user-scalable=no">
	<title>Google Map API</title>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"/>
	<script type="text/javascript">
	function init(){
		//取得当前地理位置
		// if(navigator.geolocation) 
			navigator.geolocation.getCurrentPosition(function(position) {
				var coords=position.coords;
				//设定地图参数，将用户的当前位置的纬度，经度设定为地图的中心点
				var latlng=new google.maps.LatLng(coords.latitude,coords.longitude);
				var myOptions={
					zoom:14,
					center:latlng,
					mapTypeId:google.maps.MapTypeId.ROADMAP
				};
				//创建地图并在div中显示
				var map1=new google.maps.Map(document.getElementById('map'),myOptions);
				//在地图上创建标记
				var marker=new google.maps.Marker({
					position:latlng,
					map:map1
				});
				//设置标注窗口以及其中的注释文字
				var infowindow=new google.maps.InfoWindow({
					content:"当前位置"
				});
				//打开标注窗口
				infowindow.open(map1,marker);
			});
		// else 
		// 	document.write("当前浏览器不支持谷歌地图API!");
	}
	</script>
</head>
<body onload="init();">
	<div id="map" style="width: 500px;height: 500px"></div>
</body>
</html>